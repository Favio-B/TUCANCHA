<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mis Reservas - TU CANCHA</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <nav class="nav">
        <ul>
            <li><a href="#inicio">Inicio</a></li>
        </ul>
    </nav>

    <header id="inicio" class="header">
        <h1>Bienvenido a TU CANCHA</h1>
        <p>Tu lugar para vivir la pasión del fútbol</p>
        <div class="button-container">
            <a href="https://apex.oracle.com/pls/apex/r/kevins/reservas/reservas?session=3944576473534" target="_blank">
                RESERVA AQUÍ
            </a>
        </div>
    </header>
    
    <div class="container">
        <h2>Mis Reservas</h2>
        <ul class="reservas-list" id="reservasList"></ul>
        <br><br>
        <button onclick="logout()">Cerrar Sesión</button>
    </div>

    <script>
        document.addEventListener("DOMContentLoaded", function() {
            let user = JSON.parse(sessionStorage.getItem('loggedUser'));
            if (!user) {
                alert("Debes iniciar sesión primero.");
                window.location.href = "index.html";
                return;
            }

            let reservasList = document.getElementById("reservasList");
            if (user.reservas && user.reservas.length > 0) {
                user.reservas.forEach(reserva => {
                    let li = document.createElement("li");
                    li.textContent = reserva;
                    reservasList.appendChild(li);
                });
            } else {
                reservasList.innerHTML = "<li>No tienes reservas aún.</li>";
            }
        });

        function logout() {
            sessionStorage.removeItem("loggedUser");
            window.location.href = "index.html";
        }
    </script>
</body>
</html>
